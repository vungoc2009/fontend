<script src="../../../../../@core/models/job.ts"></script><h2 style="text-align: center" class="text-uppercase">Cập nhật công việc</h2>
<mat-dialog-content>
  <form [formGroup]="updateJobForm">
    <div class = "form-row">
      <div class = "form-group col-md-12">
        <label> Tên công việc </label>
        <input type="text" class = "form-control" id="name"
               name = "name" placeholder="Nhập tên công việc"
               formControlName="name">
        <small *ngIf = "updateJobForm.get('name').invalid && updateJobForm.get('name').touched"
               class="text-danger"> Vui lòng nhập tên (không quá 150 ký tự) </small>
      </div>

      <div class = "form-group col-md-3">
        <label for="working form"> Vị trí công việc</label>
        <select class = "form-control" id="job position"
                (change)="selectJobPostionOption($event.target.value)"
                [(ngModel)]="job.jobPosition.id"
                formControlName = "jobPosition">
          <option *ngFor="let jobPosition of jobPositions"
                  [value]="jobPosition.id"
          >{{ jobPosition.description }}
          </option>
        </select>
        <small *ngIf = "updateJobForm.get('jobPosition').invalid && updateJobForm.get('jobPosition').touched"
               class="text-danger"> Vui lòng chọn vị trí công việc </small>
      </div>

      <div class = "form-group col-md-3">
        <label for="working form"> Hình thức làm việc </label>
        <select class = "form-control" id="working form"
                (change)="selectWorkingFormOption($event.target.value)"
                [(ngModel)]="job.workingForm.id"
                formControlName = "workingForm">
          <option *ngFor="let workingForm of workingForms"
                  [value]="workingForm.id"
          >{{ workingForm.description }}
          </option>
        </select>
        <small *ngIf = "updateJobForm.get('workingForm').invalid && updateJobForm.get('workingForm').touched"
               class="text-danger"> Vui lòng chọn hình thức làm việc </small>
      </div>

      <div class = "form-group col-md-3">
        <label> Lương tối thiểu </label>
        <input type="number" class = "form-control" id="salary min"
               name = "salary min" placeholder="Nhập lương tối thiểu"
               [(ngModel)]="job.salaryMin" formControlName = "salaryMin">
        <small *ngIf = "updateJobForm.get('salaryMin').invalid && updateJobForm.get('salaryMin').touched"
               class="text-danger"> Vui lòng nhập lương (kiểu số) </small>
      </div>

      <div class = "form-group col-md-3">
        <label> Lương tối đa </label>
        <input type="number" class = "form-control" id="salary max"
               name = "salary max" placeholder="Nhập lương tối đa"
               [(ngModel)]="job.salaryMax" formControlName = "salaryMax">
        <small *ngIf = "updateJobForm.get('salaryMax').invalid && updateJobForm.get('salaryMax').touched"
               class="text-danger"> Vui lòng nhập lương (kiểu số) </small>
      </div>

      <div class = "form-group col-md-12">
        <label> Địa chỉ làm việc </label>
        <input type="text" class = "form-control" id="address work"
               name = "address work" placeholder="Nhập địa chỉ công việc"
               [(ngModel)]="job.addressWork" formControlName = "addressWork">
        <small *ngIf = "updateJobForm.get('addressWork').invalid && updateJobForm.get('addressWork').touched"
               class="text-danger"> Vui lòng nhập địa chỉ (không quá 300 ký tự) </small>
      </div>

      <div class = "form-group col-md-12">
        <label> Mô tả công việc </label>
        <textarea class="form-control" id="description" rows="3"
                  name = "description" placeholder="Nhập mô tả công việc"
                  [(ngModel)]="job.description" formControlName = "description"></textarea>
        <small *ngIf = "updateJobForm.get('description').invalid && updateJobForm.get('description').touched"
               class="text-danger"> Vui lòng nhập mô tả (không quá 2000 ký tự) </small>
      </div>

      <div class = "form-group col-md-3">
        <label> Số năm kinh nghiệm </label>
        <input type="text" class = "form-control" id="number experience"
               name = "number experience" placeholder="Nhập số năm kinh nghiệm"
               [(ngModel)]="job.numberExperience" formControlName = "numberExperience">
        <small *ngIf = "updateJobForm.get('numberExperience').invalid && updateJobForm.get('numberExperience').touched"
               class="text-danger"> Vui lòng nhập số năm (kiểu số) </small>
      </div>

      <div class = "form-group col-md-3">
        <label> Số lượng cần tuyển </label>
        <input type="text" class = "form-control" id="qty person"
               name = "qty person" placeholder="Nhập số lượng tuyển"
               [(ngModel)]="job.qtyPerson" formControlName = "qtyPerson">
        <small *ngIf = "updateJobForm.get('qtyPerson').invalid && updateJobForm.get('qtyPerson').touched"
               class="text-danger"> Vui lòng nhập số lượng (kiểu số) </small>
      </div>

      <div class = "form-group col-md-3">
        <label for="academic level"> Trình độ học vấn </label>
        <select class = "form-control" id="academic level"
                (change)="selectAcademicLevelOption($event.target.value)"
                [(ngModel)]="job.academicLevel.id"
                formControlName = "academicLevel">
          <option *ngFor="let academicLevel of academicLevels"
                  [value]="academicLevel.id"
          >{{ academicLevel.description }}</option>
        </select>
        <small *ngIf = "updateJobForm.get('academicLevel').invalid && updateJobForm.get('academicLevel').touched"
               class="text-danger"> Vui lòng chọn trình độ học vấn </small>


      </div>

      <div class = "form-group col-md-3">
        <label for="rank"> Level </label>
        <select class = "form-control" id="rank"
                (change)="selectRankOption($event.target.value)"
                [(ngModel)]="job.rank.id"
                formControlName = "rank">
          <option *ngFor="let rank of ranks"
                  [value]="rank.id"
          >{{ rank.description }}</option>
        </select>
        <small *ngIf = "updateJobForm.get('rank').invalid && updateJobForm.get('rank').touched"
               class="text-danger"> Vui lòng chọn level </small>

      </div>

      <div class = "form-group col-md-12">
        <label> Kĩ năng </label>
        <input type="text" class = "form-control" id="skills"
               name = "skilss" placeholder="Nhập kĩ năng"
               [(ngModel)]="job.skills" formControlName = 'skills'>
        <small *ngIf = "updateJobForm.get('skills').invalid && updateJobForm.get('skills').touched"
               class="text-danger"> Vui lòng nhập kĩ năng </small>
      </div>

      <div class = "form-group col-md-6">
        <label> Hạn nộp hồ sơ </label>
        <input type="date" class = "form-control" id="due date"
               name = "due date"
               [(ngModel)]="job.dueDate" formControlName = "dueDate">
        <small *ngIf = "updateJobForm.get('dueDate').invalid && updateJobForm.get('dueDate').touched"
               class="text-danger"> Vui lòng nhập hạn nộp hồ sơ </small>

      </div>

      <div class = "form-group col-md-6">
        <label> Người liên hệ </label>
        <select class = "form-control" id="contact"
                (change)="selectContactJE($event.target.value)"
                [(ngModel)]="job.contact.id"
                formControlName = "contact">
          <option *ngFor="let contact of contactJE"
                  [value]="contact.id"
          >{{ contact.name }}</option>
        </select>
        <small *ngIf = "updateJobForm.get('contact').invalid && updateJobForm.get('contact').touched"
               class="text-danger"> Vui lòng chọn người liên hệ </small>

      </div>

      <div class = "form-group col-md-12">
        <label> Quyền lợi được hưởng </label>
        <textarea class="form-control" id="interest" rows="3"
                  name = "interest" placeholder="Nhập quyền lợi được hưởng"
                  [(ngModel)]="job.interest" formControlName = "interest"></textarea>
        <small *ngIf = "updateJobForm.get('interest').invalid && updateJobForm.get('interest').touched"
               class="text-danger"> Vui lòng nhập quyền lợi (không quá 2000 ký tự)</small>
      </div>

      <div class = "form-group col-md-12">
        <label> Yêu cầu công việc </label>
        <textarea class="form-control" id="job requirement" rows="3"
                  [(ngModel)]="job.jobRequirement" formControlName = "jobRequirement"
                  name = "job requirement" placeholder="Nhập yêu cầu công việc"></textarea>
        <small *ngIf = "updateJobForm.get('jobRequirement').invalid && updateJobForm.get('jobRequirement').touched"
               class="text-danger"> Vui lòng nhập yêu cầu< (không quá 2000 ký tự)</small>
      </div>

    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close class="btn btn-danger group-btn">Hủy</button>
  <button type="submit" class="btn btn-primary group-btn" (click)="onSubmit()">Cập nhập</button>
</mat-dialog-actions>

